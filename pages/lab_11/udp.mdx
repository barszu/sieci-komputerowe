import { Details } from "../../components/details"
import { Callout, Steps } from "nextra/components"

# UDP - User Datagram Protocol

<Callout type="warning" emoji="">

cel: `tylko przesa dane`

</Callout>

- `bezpoczeniowy`
- `prosty`
- `less overhead`, ma mae narzuty danych ( nie szybko, ale ilo danych kontrolnych)
- `zawodny` (nie gwarantuje niezawodnoci na IV warstwie ):
  - **brak** komunikat贸w potwierdzajcych **przyjcie** pakiet贸w, lub o tym 偶e si **zgubiy**
  - nie gwarantuje 偶e dane zostan dostarczone do miejsca docelowego
  - pakiety mog by **zduplikowane**
  - nie zawiera **mechanizmu kontroli prdkoci przesyania** danych midzy hostami

![UDP](/lab11/img/img4.jpg)

> cz danych bdzie gubiona jeli cze nie wyrabia

warstwy wy偶sze musz same sobie radzi z tymi problemami

<Callout type="info" emoji="癸">

Tutaj te偶 wystpuje **pseudonag贸wek** do zliczania **sumy kontrolnej warstwy IV** (jak w TCP)

</Callout>

## Zastosowania

<Callout type="default">

`jak co si zgubi to trudno`

dane mao wra偶liwe na gubienie pakiet贸w, np. multimedia - utrata kilku klatek przy streamingu wideo pewnie nawet nie zostanie zauwa偶ona

</Callout>

<Steps>

### transmisje grupowe

<Callout type="info" emoji="">
  UDP pozwala na multicast, TCP nie (poczeniowe = zawsze point-to-point)
</Callout>

np. IPTV u偶ywa multicastu, a wic i UDP

### transmisje w czasie rzeczywistym

np. gry multiplayer - UDP jest szybkie, wic mo偶e by te偶 u偶ywane w modelu mieszanym (to, co nie wymaga kontroli cay czas idzie szybko przez UDP, a przez TCP tylko to, co musi)

### przesyanie w sieci LAN

np. DHCP, DNS - sieci LAN maj zwykle wysok niezawodno i UDP dziaa w nich dobrze w takich protokoach konfiguracyjnych (do tego przesyaj stosunkowo mae dane)

<Details summary="przesyanie sieci LAN:">
  Sieci lokalne (LAN) maj wysoki poziom niezawodnoci, dlatego mo偶emy testowa programy z uzyciem UDP, ale dla produkcji jest to nie zalecane bo sie og贸lna jest zawodna
</Details>

</Steps>

## Nag贸wek UDP [8 byte]

![Nag贸wek UDP](/lab11/img/img1.jpg)

- **Port 藕r贸dowy** 2[B] - port z kt贸rego wysyamy dane

  > przy odsyaniu odbiorca wie, do kogo odesa - wystarczy zamieni miejscami adresy

- **Port docelowy** 2[B] - port na kt贸ry wysyamy dane

- **Dugo** 2[B] - dugo caego pakietu (nag贸wek + dane)

  > min dugo = 8 [B] <br/>
  > max dugo = 2^16 - 29 [B]
  >
  > ```
  > 2^16 - 1 [B] - maksymalna wartoci, jak mo偶na zapisa w 2-bajtowym polu
  > - 20 [B] - IP nag贸wek
  > - 8 [B] - UDP nag贸wek
  > ```

- `Obcjonalna` **Suma kontrolna** 2[B] - sprawdza, czy dane nie zostay uszkodzone podczas transmisji

  > dugo datagramu = nag贸wek UDP + dane enkapsulowane

  - obliczana z u偶yciem `pseudonag贸wka` - chwilowo uwzgldnia nag贸wek IP razem z UDP

  > same 0 = brak sumy kontrolnej <br/>
  > same 1 = suma kontrolna obliczona i r贸wna 0 (nie jest to brak sumy) - kod U1
