import { Steps } from 'nextra/components'
import { Details } from '../../components/details'

# Adresacja IPv6

## unicast

![IPv6 Address](/ipv6/img/img10.jpg)

### adresy globalne

- `unicast`

![Adresy globalne](/ipv6/img/img2.jpg)

- przydzielane przez IANA rozpoczynające się od wartości binarnej 001

![Adresy globalne](/ipv6/img/img11.jpg)

Struktura tych adresów umożliwia agregację wpisów routingu w celu uzyskania
mniejszej globalnej tablicy routingu IPv6.

### link-local | adres łącza lokalnego

> umożliwienie węzłom podłączonym do wspólnego łącza komunikacji bez konieczności stosowania globalnie unikalnych adresów

- Automatycznie przypisywany do dowolnego interfejsu obsługującego protokół IPv6.
- `Nie routowalne`. Obowiązują one tylko w zakresie jednej sieci.
- **Używany do wykrywania sąsiadów i automatycznej konguracji bezstanowej.**
- tworzone poprzez EUI-64, losowo, statycznie
- Przedrostek FE80::/10.

![link-local](/ipv6/img/img3.jpg)

### loopback

> `::1/128` = 0:0:0:0:0:0:0:1/128

- Zazwyczaj `używany do testowania` stosu protokołów TCP/IP w systemach operacyjnych.
- Podobna koncepcja do 127.0.0.0/8 w IPv4.

### unikalne lokalne

> odpowiednik `adresów prywatnych` w IPv4, ale są unikatowe

- stosowane do komunikacji wewnątrz pojedyńczych sieci
- `nie rutowalne`

> od `FC00::/7` do `FDFF::/7`

## multicast

> zaczynają się od `FF`, podobana funkcjonalność jak adresy 224.x.x.x w IPv4

Podzielono na 2 rodzaje:

- `przypisany`
- `solicited-node` - adres żądania węzła

![multicast](/ipv6/img/img17.jpg)

<Details summary='budowa adresu IPv6 multicast'>

| multicast address [8bit] | Flags [4bit]                                       | Scope [4bit]                                                                                                | Group ID [112bit]                                |
| ------------------------ | -------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| FF                       | 01 - chwilowy <br/> 00 - permamentny, dobrze znany | 01 - node-local <br/> 02 - link-local <br/> 05 - site-local <br/> 08 - organization-local <br/> 0F - global | pierwsze 80 cyfr to 0, w celu uniknięcia kolizji |

<Steps>

### Node-local

Adresy multicastowe o zakresie node-local są **używane tylko w obrębie jednego węzła (komputera).**

Pakiety wysyłane na taki adres nie opuszczają węzła.

### Link-local

Adresy multicastowe o zakresie link-local są używane w obrębie **jednej sieci lokalnej** (linku).

Pakiety wysyłane na taki adres są dostarczane tylko do urządzeń w tej samej sieci lokalnej.

### Site-local

Adresy multicastowe o zakresie site-local są używane w obrębie jednej lokalizacji (site).

Pakiety wysyłane na taki adres mogą być dostarczane do urządzeń w **różnych sieciach lokalnych w obrębie tej samej lokalizacji.**

### Organization-local

Adresy multicastowe o zakresie organization-local są używane w obrębie jednej organizacji.

Pakiety wysyłane na taki adres mogą być dostarczane do urządzeń w **różnych lokalizacjach w obrębie tej samej organizacji**.

### Global

Adresy multicastowe o zakresie global są **używane w całym internecie**.

Pakiety wysyłane na taki adres mogą być dostarczane do urządzeń na całym świecie.

</Steps>

</Details>

## przypisany multicast

<Steps>

### wszystkie węzły

> rozsyłanie danych do wszystkich węzłów (hostów) w danej sieci.

odpowiednik adresów broadcast z IPv4

### wszystkie routery

> przesyłanie danych do wszystkich routerów w danej sieci.

hosty wysyłają na ten adres komunikaty **RS** (Router Solicitation), aby dowiedzieć się, jakie routery są dostępne w sieci.

</Steps>

## solicited-node multicast

1. Stosowany w protokole **NDP** (Neighbor Discovery Protocol) do uzyskiwania adresów MAC kart sieciowych hostów

> w IPv6 nie ma ARP, ale jest NDP

2. Wykorzystanie w detekcji duplikatów adresów IP przy auto-konfiguracji

adres żądania węzła jest tworzony automatycznie jeśli host posiada lokalny/globalny adres IPv6

tworzony z użyciem prefixu: `FF02::1:FFxx:xxxx/104`

![solicited-node](/ipv6/img/img16.jpg)
