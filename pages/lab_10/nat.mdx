import { Steps } from 'nextra/components'
import { Details } from '../../components/details'

# NAT - Network Address Translation

> sposób mapowania adresów IP z różnych przestrzeni adresowych na siebie poprzez podmianę informacji (adresów IP) w nagłówku IP, np. adresu źródłowego czy docelowego.

- pozwala sieciom z adresami prywatnymi IP na komunikację z internetem
- zwiększa bezpieczeństwo, ukrywając “prawdziwe” adresy IP
- pozwala na komunikację sieciom z nakładającymi się adresami IP
- eliminuje potrzebę readresacji hostów przy zmianie ISP (Internet Service Provider) lub sposobów adresacji
- jest wersja lepsza w wersji PAT oszczędza przestrzeń adresową IPv4

![NAT](/lab10/img/img1.webp)

<Details summary='Patrząc z perspektywy hosta wewnątrz sieci z NAT:'>

- on wie, że ma na prawdę adres IL
- na zewnątrz myślą, że ma adres IG
- jak widzi hosta to widzi u niego adres OL
- tak na prawdę host z zewnątrz ma adres OG

</Details>

<Details summary='Ważne, że te adresy mogą być takie same!'>

Przykładowo IL może być takie samo, jak IG, po prostu wtedy nie ukrywamy tego prawdziwego adresu (ale musi być wtedy globalnie unikatowy).

</Details>

## Rodzaje adresów w NAT:

<Steps>

### IL - Inside Local

> prawdziwy adres hosta wewnątrz sieci (zwykle prywatny adres IP)

### IG - Inside Global

> adres hosta wewnętrznego tak, jak jest widoczny na zewnątrz <br/> (zwykle pojedynczy adres przydzielony przez ISP)

### OL - Outside Local

adres hosta zewnętrznego tak, jak jest widoczny wewnątrz

### OG - Outside Global

prawdziwy adres hosta zewnętrznego

</Steps>

## Rodzaje tłumaczenia w NAT

### inside source address

> `IL -> IG` inside local -> inside global

hosty wewnętrzne używają wtedy różnych adresów publicznie widocznych

![NAT](/lab10/img/img2.jpg)

### outside source address

> `OL -> OG` outside local -> outside global

![NAT](/lab10/img/img3.jpg)

to właśnie to pozwala współpracować sieciom z pokrywającymi się adresami, bo
nawet jak przyjdzie to samo z zewnątrz (Outside Global), to możemy to
przetłumaczyć na unikatowe wewnątrz (Outside Local)

## IP Spoofing - maskarada adresów

> polega na podmianie adresu źródłowego w pakiecie IP na inny, fałszywy adres IP

> hosty widzą co innego, niż jest naprawdę.

## Rodzaje translacji:

- `Static` - 1:1, stałe przypisanie adresów
- `Dynamic` - przypisanie adresów z puli dostępnych adresów (dynamicznie zarządzane przez mechanizm)
